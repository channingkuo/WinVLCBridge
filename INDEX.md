# WinVLCBridge æ–‡æ¡£ç´¢å¼•

> ğŸ“š å¿«é€Ÿæ‰¾åˆ°ä½ éœ€è¦çš„æ–‡æ¡£

## ğŸ¯ æˆ‘æƒ³...

### å¿«é€Ÿå¼€å§‹
- **5åˆ†é’Ÿä¸Šæ‰‹** â†’ [QUICK_START.md](QUICK_START.md) âš¡
- **æŸ¥çœ‹å®Œæ•´æ–‡æ¡£** â†’ [README.md](README.md) ğŸ“–
- **äº†è§£ API** â†’ [WinVLCBridge.h](WinVLCBridge.h) ğŸ“„

### ç¼–è¯‘å’Œæ„å»º
- **è·å– VLC SDK** â†’ [VLC_SDK_GUIDE.md](VLC_SDK_GUIDE.md) ğŸ“¦
- **åœ¨ Windows ä¸Šç¼–è¯‘** â†’ [BUILD.md](BUILD.md) ğŸ”¨
- **åœ¨ Mac ä¸Šç¼–è¯‘** â†’ [MAC_BUILD_GUIDE.md](MAC_BUILD_GUIDE.md) ğŸ
- **å¿«é€Ÿç¼–è¯‘** â†’ åŒå‡» `build.bat` æˆ– [build.bat](build.bat) ğŸš€
- **æ¸…ç†ç¼–è¯‘** â†’ åŒå‡» `clean.bat` æˆ– [clean.bat](clean.bat) ğŸ§¹

### ä½¿ç”¨å’Œé›†æˆ
- **ä»£ç ç¤ºä¾‹** â†’ [example_usage.js](example_usage.js) ğŸ’»
- **æ‰“åŒ…åˆ†å‘** â†’ [æ‰“åŒ…è¯´æ˜.md](æ‰“åŒ…è¯´æ˜.md) ğŸ“¦
- **Electron é›†æˆ** â†’ [example_usage.js](example_usage.js) ä¸­çš„ `electronExample()` ğŸ–¥ï¸

### é«˜çº§ä¸»é¢˜
- **å¹³å°å·®å¼‚** â†’ [DIFFERENCES.md](DIFFERENCES.md) ğŸ”„
- **æ€§èƒ½ä¼˜åŒ–** â†’ [README.md](README.md) çš„æ€§èƒ½å»ºè®®éƒ¨åˆ† âš¡
- **é—®é¢˜æ’æŸ¥** â†’ [README.md](README.md) çš„å¸¸è§é—®é¢˜éƒ¨åˆ† ğŸ”§

---

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | ç”¨é€” | é˜…è¯»æ—¶é—´ | é‡è¦æ€§ |
|------|------|----------|--------|
| [README.md](README.md) | å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£å’Œ API å‚è€ƒ | 15 åˆ†é’Ÿ | â­â­â­â­â­ |
| [QUICK_START.md](QUICK_START.md) | å¿«é€Ÿå¼€å§‹æŒ‡å— | 5 åˆ†é’Ÿ | â­â­â­â­â­ |
| [VLC_SDK_GUIDE.md](VLC_SDK_GUIDE.md) | VLC SDK è·å–å’Œè®¾ç½® | 10 åˆ†é’Ÿ | â­â­â­â­â­ |
| [BUILD.md](BUILD.md) | è¯¦ç»†çš„ç¼–è¯‘æŒ‡å— | 10 åˆ†é’Ÿ | â­â­â­â­ |

### å‚è€ƒæ–‡æ¡£

| æ–‡æ¡£ | ç”¨é€” | é˜…è¯»æ—¶é—´ | é‡è¦æ€§ |
|------|------|----------|--------|
| [example_usage.js](example_usage.js) | å®Œæ•´çš„ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ | 10 åˆ†é’Ÿ | â­â­â­â­â­ |
| [æ‰“åŒ…è¯´æ˜.md](æ‰“åŒ…è¯´æ˜.md) | æ‰“åŒ…å’Œåˆ†å‘æŒ‡å— | 8 åˆ†é’Ÿ | â­â­â­â­ |
| [MAC_BUILD_GUIDE.md](MAC_BUILD_GUIDE.md) | åœ¨ Mac ä¸Šæ„å»º Windows DLL | 12 åˆ†é’Ÿ | â­â­â­â­ |
| [DIFFERENCES.md](DIFFERENCES.md) | macOS å’Œ Windows ç‰ˆæœ¬çš„å·®å¼‚ | 12 åˆ†é’Ÿ | â­â­â­ |

### å·¥å…·è„šæœ¬

| æ–‡ä»¶ | ç”¨é€” | ä½¿ç”¨æ–¹å¼ |
|------|------|----------|
| [build.bat](build.bat) | è‡ªåŠ¨ç¼–è¯‘è„šæœ¬ | åŒå‡»è¿è¡Œæˆ– `build.bat release` |
| [clean.bat](clean.bat) | æ¸…ç†ç¼–è¯‘æ–‡ä»¶ | åŒå‡»è¿è¡Œ |
| [CMakeLists.txt](CMakeLists.txt) | CMake æ„å»ºé…ç½® | ç”± CMake ä½¿ç”¨ |

### æºä»£ç 

| æ–‡ä»¶ | è¯´æ˜ | è¡Œæ•° |
|------|------|------|
| [WinVLCBridge.h](WinVLCBridge.h) | C API å¤´æ–‡ä»¶ | ~100 |
| [WinVLCBridge.cpp](WinVLCBridge.cpp) | å®ç°æ–‡ä»¶ | ~600 |

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### åˆå­¦è€…è·¯å¾„

1. **ç¬¬ä¸€æ­¥ï¼šäº†è§£é¡¹ç›®**
   - é˜…è¯» [README.md](README.md) çš„åŠŸèƒ½ç‰¹æ€§éƒ¨åˆ†
   - å¤§è‡´äº†è§£èƒ½åšä»€ä¹ˆ

2. **ç¬¬äºŒæ­¥ï¼šç¼–è¯‘ DLL**
   - æŒ‰ç…§ [QUICK_START.md](QUICK_START.md) çš„æ­¥éª¤ 1 ç¼–è¯‘
   - æˆ–ç›´æ¥é˜…è¯» [BUILD.md](BUILD.md) äº†è§£è¯¦ç»†æ­¥éª¤

3. **ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œç¤ºä¾‹**
   - æŸ¥çœ‹ [example_usage.js](example_usage.js)
   - å¤åˆ¶æœ€å°ç¤ºä¾‹åˆ°ä½ çš„é¡¹ç›®

4. **ç¬¬å››æ­¥ï¼šæ·±å…¥å­¦ä¹ **
   - é˜…è¯» [README.md](README.md) çš„ API å‚è€ƒéƒ¨åˆ†
   - äº†è§£æ¯ä¸ªå‡½æ•°çš„ç”¨æ³•

### è¿›é˜¶ç”¨æˆ·è·¯å¾„

1. **ä¼˜åŒ–æ€§èƒ½**
   - é˜…è¯» [README.md](README.md) çš„æ€§èƒ½å»ºè®®
   - äº†è§£ [DIFFERENCES.md](DIFFERENCES.md) ä¸­çš„æ€§èƒ½å¯¹æ¯”

2. **è·¨å¹³å°å¼€å‘**
   - æ¯”è¾ƒ [DIFFERENCES.md](DIFFERENCES.md) äº†è§£å¹³å°å·®å¼‚
   - è®¾è®¡ç»Ÿä¸€çš„æ¥å£å±‚

3. **ç”Ÿäº§éƒ¨ç½²**
   - é˜…è¯» [æ‰“åŒ…è¯´æ˜.md](æ‰“åŒ…è¯´æ˜.md)
   - è®¾ç½® CI/CD æµç¨‹

### é—®é¢˜æ’æŸ¥è·¯å¾„

é‡åˆ°é—®é¢˜æ—¶ï¼š

1. **ç¼–è¯‘é—®é¢˜** â†’ [BUILD.md](BUILD.md) çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
2. **ä½¿ç”¨é—®é¢˜** â†’ [README.md](README.md) çš„å¸¸è§é—®é¢˜éƒ¨åˆ†
3. **æ€§èƒ½é—®é¢˜** â†’ [README.md](README.md) çš„æ€§èƒ½å»ºè®®éƒ¨åˆ†
4. **ç¤ºä¾‹ä»£ç ** â†’ [example_usage.js](example_usage.js) çš„å®Œæ•´ç¤ºä¾‹

---

## ğŸ” æŒ‰åœºæ™¯æŸ¥æ‰¾

### åœºæ™¯ 1ï¼šæˆ‘æƒ³åœ¨ Electron ä¸­æ’­æ”¾è§†é¢‘

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [QUICK_START.md](QUICK_START.md) - äº†è§£åŸºæœ¬ç”¨æ³•
2. [example_usage.js](example_usage.js) - æŸ¥çœ‹ `electronExample()` å‡½æ•°
3. [README.md](README.md) - äº†è§£ API è¯¦æƒ…

**å…³é”®ä»£ç ï¼š**
```javascript
const hwnd = mainWindow.getNativeWindowHandle();
const player = new VLCPlayer(hwnd, 0, 0, 800, 600);
player.play('video.mp4');
```

---

### åœºæ™¯ 2ï¼šæˆ‘æƒ³åœ¨è§†é¢‘ä¸Šç»˜åˆ¶çŸ©å½¢æ¡†

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [README.md](README.md) - æŸ¥çœ‹çŸ©å½¢è¦†ç›–å±‚ API
2. [example_usage.js](example_usage.js) - æŸ¥çœ‹ `updateRectangles` ç¤ºä¾‹
3. [QUICK_START.md](QUICK_START.md) - æŸ¥çœ‹é€ŸæŸ¥è¡¨

**å…³é”®ä»£ç ï¼š**
```javascript
player.updateRectangles(
    [{ x: 100, y: 100, width: 200, height: 150 }],
    2.0,  // çº¿å®½
    { r: 1, g: 0, b: 0, a: 1 }  // çº¢è‰²
);
```

---

### åœºæ™¯ 3ï¼šæˆ‘æƒ³æ’­æ”¾ RTSP ç½‘ç»œæµ

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [README.md](README.md) - æŸ¥çœ‹æ”¯æŒçš„æ ¼å¼
2. [example_usage.js](example_usage.js) - æŸ¥çœ‹ç½‘ç»œæµç¤ºä¾‹
3. [BUILD.md](BUILD.md) - ç¡®ä¿ç¼–è¯‘æ—¶åŒ…å«ç½‘ç»œæ’ä»¶

**å…³é”®ä»£ç ï¼š**
```javascript
player.play('rtsp://example.com/stream');
```

---

### åœºæ™¯ 4ï¼šæˆ‘æƒ³å®ç°ç›®æ ‡æ£€æµ‹æ ‡æ³¨

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [example_usage.js](example_usage.js) - æŸ¥çœ‹ `VideoPlayerWithDetection` ç±»
2. [README.md](README.md) - äº†è§£åº”ç”¨åœºæ™¯éƒ¨åˆ†
3. [DIFFERENCES.md](DIFFERENCES.md) - äº†è§£æ€§èƒ½ç‰¹ç‚¹

**å…³é”®ä»£ç ï¼š**
```javascript
const detector = new VideoPlayerWithDetection(hwnd, 0, 0, 800, 600);
detector.playWithDetection('rtsp://camera.local/stream');
```

---

### åœºæ™¯ 5ï¼šæˆ‘æƒ³æ‰“åŒ…åˆ†å‘æˆ‘çš„åº”ç”¨

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [æ‰“åŒ…è¯´æ˜.md](æ‰“åŒ…è¯´æ˜.md) - å®Œæ•´çš„æ‰“åŒ…æµç¨‹
2. [BUILD.md](BUILD.md) - ç¡®ä¿ä½¿ç”¨ Release é…ç½®
3. [README.md](README.md) - æ£€æŸ¥ä¾èµ–è¦æ±‚

**å…³é”®æ­¥éª¤ï¼š**
```cmd
build.bat release
cd build\bin\Release
# å¤åˆ¶æ‰€æœ‰æ–‡ä»¶åˆ°åˆ†å‘ç›®å½•
```

---

### åœºæ™¯ 6ï¼šæˆ‘æƒ³ä» macOS è¿ç§»åˆ° Windows

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [DIFFERENCES.md](DIFFERENCES.md) - è¯¦ç»†çš„å¹³å°å·®å¼‚è¯´æ˜
2. [README.md](README.md) - æŸ¥çœ‹ API å¯¹åº”å…³ç³»è¡¨
3. [example_usage.js](example_usage.js) - æŸ¥çœ‹ Windows ç‰¹å®šä»£ç 

**ä¸»è¦å·®å¼‚ï¼š**
- å‡½æ•°å‰ç¼€ï¼š`mv_` â†’ `wv_`
- çª—å£å‚æ•°ï¼š`NSView*` â†’ `HWND`
- å…¶ä»– API å®Œå…¨ç›¸åŒ

---

### åœºæ™¯ 7ï¼šæˆ‘åœ¨ Mac ä¸Šå¼€å‘ï¼Œéœ€è¦ç¼–è¯‘ Windows DLL

**æ¨èé˜…è¯»é¡ºåºï¼š**
1. [MAC_BUILD_GUIDE.md](MAC_BUILD_GUIDE.md) - å®Œæ•´çš„ Mac æ„å»ºæŒ‡å—
2. é€‰æ‹©æ–¹æ¡ˆï¼šGitHub Actionsï¼ˆæ¨èï¼‰æˆ–è™šæ‹Ÿæœº
3. [BUILD.md](BUILD.md) - äº†è§£ Windows ç¼–è¯‘ç»†èŠ‚

**æ¨èæ–¹æ¡ˆï¼š**
- **å¼€æºé¡¹ç›®** â†’ GitHub Actionsï¼ˆå…è´¹ã€è‡ªåŠ¨ï¼‰
- **é¢‘ç¹ç¼–è¯‘** â†’ Parallels Desktopï¼ˆå¿«é€Ÿã€æ–¹ä¾¿ï¼‰
- **é¢„ç®—æœ‰é™** â†’ VirtualBoxï¼ˆå…è´¹ï¼‰

**å¿«é€Ÿå¼€å§‹ï¼š**
```bash
# æ¨é€åˆ° GitHubï¼Œè‡ªåŠ¨ç¼–è¯‘
git push origin master
# ä» Actions ä¸‹è½½ DLL
```

---

## ğŸ“– API é€ŸæŸ¥

å¿«é€ŸæŸ¥æ‰¾ APIï¼š

| API | åŠŸèƒ½ | æ–‡æ¡£ä½ç½® |
|-----|------|----------|
| `wv_create_player_for_view` | åˆ›å»ºæ’­æ”¾å™¨ | [WinVLCBridge.h](WinVLCBridge.h#L24) |
| `wv_player_play` | æ’­æ”¾è§†é¢‘ | [WinVLCBridge.h](WinVLCBridge.h#L32) |
| `wv_player_pause` | æš‚åœæ’­æ”¾ | [WinVLCBridge.h](WinVLCBridge.h#L38) |
| `wv_player_resume` | æ¢å¤æ’­æ”¾ | [WinVLCBridge.h](WinVLCBridge.h#L44) |
| `wv_player_stop` | åœæ­¢æ’­æ”¾ | [WinVLCBridge.h](WinVLCBridge.h#L50) |
| `wv_player_release` | é‡Šæ”¾èµ„æº | [WinVLCBridge.h](WinVLCBridge.h#L56) |
| `wv_player_update_rectangles` | æ›´æ–°çŸ©å½¢ | [WinVLCBridge.h](WinVLCBridge.h#L68) |
| `wv_player_clear_rectangles` | æ¸…é™¤çŸ©å½¢ | [WinVLCBridge.h](WinVLCBridge.h#L74) |

---

## ğŸ› ï¸ å·¥å…·å’Œèµ„æº

### å¿…å¤‡å·¥å…·

- **ç¼–è¯‘å™¨**: Visual Studio 2019+ (å…è´¹çš„ Community ç‰ˆæœ¬)
- **æ„å»ºå·¥å…·**: CMake 3.15+ (é€šå¸¸ VS è‡ªå¸¦)
- **è°ƒè¯•å·¥å…·**: [DebugView](https://docs.microsoft.com/sysinternals/downloads/debugview) - æŸ¥çœ‹æ—¥å¿—

### ä¾èµ–åº“

- **VLC SDK**: [ä¸‹è½½åœ°å€](https://www.videolan.org/vlc/download-windows.html)
- **ffi-napi**: `npm install ffi-napi` - Node.js FFI ç»‘å®š
- **ref-napi**: `npm install ref-napi` - Node.js å¼•ç”¨ç±»å‹

### ç›¸å…³é“¾æ¥

- **libVLC æ–‡æ¡£**: https://www.videolan.org/developers/vlc/doc/doxygen/html/group__libvlc.html
- **GDI+ æ–‡æ¡£**: https://docs.microsoft.com/windows/win32/gdiplus/
- **CMake æ–‡æ¡£**: https://cmake.org/documentation/

---

## ğŸ’¡ æç¤ºå’ŒæŠ€å·§

### å¿«é€Ÿæç¤º

1. **é¦–æ¬¡ä½¿ç”¨ï¼Ÿ** ç›´æ¥è·³åˆ° [QUICK_START.md](QUICK_START.md)
2. **é‡åˆ°é”™è¯¯ï¼Ÿ** å…ˆæŸ¥çœ‹æ—¥å¿—ï¼ˆä½¿ç”¨ DebugViewï¼‰
3. **æ€§èƒ½é—®é¢˜ï¼Ÿ** æŸ¥çœ‹ [README.md](README.md) çš„æ€§èƒ½å»ºè®®
4. **éœ€è¦ç¤ºä¾‹ï¼Ÿ** æ‰€æœ‰ç¤ºä¾‹éƒ½åœ¨ [example_usage.js](example_usage.js)

### æœ€ä½³å®è·µ

- âœ… å§‹ç»ˆè°ƒç”¨ `wv_player_release()` é‡Šæ”¾èµ„æº
- âœ… ä½¿ç”¨ Release é…ç½®è¿›è¡Œç”Ÿäº§æ„å»º
- âœ… é™åˆ¶çŸ©å½¢æ›´æ–°é¢‘ç‡ï¼ˆ< 30 FPSï¼‰
- âœ… çŸ©å½¢æ•°é‡ä¸è¶…è¿‡ 50 ä¸ª
- âœ… ç½‘ç»œæµä½¿ç”¨ RTSP è€Œä¸æ˜¯ HTTPï¼ˆæ›´ä½å»¶è¿Ÿï¼‰

---

## ğŸ“ è·å–å¸®åŠ©

### é—®é¢˜æ’æŸ¥é¡ºåº

1. **æŸ¥çœ‹æ–‡æ¡£** - å…ˆåœ¨ç›¸å…³æ–‡æ¡£ä¸­æœç´¢
2. **æŸ¥çœ‹æ—¥å¿—** - ä½¿ç”¨ DebugView æŸ¥çœ‹ `[WinVLCBridge]` æ—¥å¿—
3. **æŸ¥çœ‹ç¤ºä¾‹** - å¯¹æ¯” [example_usage.js](example_usage.js)
4. **åˆ›å»º Issue** - å¦‚æœé—®é¢˜ä»æœªè§£å†³

### æŠ¥å‘Šé—®é¢˜æ—¶è¯·æä¾›

- æ“ä½œç³»ç»Ÿç‰ˆæœ¬
- Visual Studio ç‰ˆæœ¬
- VLC SDK ç‰ˆæœ¬
- å®Œæ•´çš„é”™è¯¯æ—¥å¿—
- æœ€å°å¤ç°ä»£ç 

---

## ğŸ“Š æ–‡æ¡£ç»Ÿè®¡

- **æ€»æ–‡æ¡£æ•°**: 11 ä¸ª
- **æ€»ä»£ç è¡Œæ•°**: ~700 è¡Œï¼ˆC++ï¼‰+ ~400 è¡Œï¼ˆJavaScriptï¼‰
- **æ”¯æŒå¹³å°**: Windows 7/8/10/11 (x64)
- **é¡¹ç›®ç‰ˆæœ¬**: v1.0.0

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

- **2025-10-07**: åˆå§‹ç‰ˆæœ¬
  - å®Œæ•´çš„æ–‡æ¡£é›†
  - æ ¸å¿ƒåŠŸèƒ½å®ç°
  - ç¤ºä¾‹ä»£ç å’Œæ„å»ºè„šæœ¬

---

## â­ æ¨èé˜…è¯»æµç¨‹

### å¿«é€Ÿæµç¨‹ï¼ˆ30 åˆ†é’Ÿï¼‰

1. [QUICK_START.md](QUICK_START.md) - 5 åˆ†é’Ÿ
2. ç¼–è¯‘ DLL - 10 åˆ†é’Ÿ
3. [example_usage.js](example_usage.js) - 15 åˆ†é’Ÿ

### å®Œæ•´æµç¨‹ï¼ˆ2 å°æ—¶ï¼‰

1. [README.md](README.md) - 15 åˆ†é’Ÿ
2. [BUILD.md](BUILD.md) - 10 åˆ†é’Ÿ
3. ç¼–è¯‘å’Œæµ‹è¯• - 30 åˆ†é’Ÿ
4. [example_usage.js](example_usage.js) - 20 åˆ†é’Ÿ
5. [DIFFERENCES.md](DIFFERENCES.md) - 12 åˆ†é’Ÿ
6. [æ‰“åŒ…è¯´æ˜.md](æ‰“åŒ…è¯´æ˜.md) - 8 åˆ†é’Ÿ
7. å®è·µå’Œè°ƒè¯• - 25 åˆ†é’Ÿ

---

**æç¤º**: å°†æ­¤æ–‡æ¡£åŠ å…¥ä¹¦ç­¾ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾ï¼ğŸ”–

